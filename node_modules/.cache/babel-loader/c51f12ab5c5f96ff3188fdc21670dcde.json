{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Dobo Pal\\\\workspace-spring-tool-suite-4-4.0.0.RELEASE\\\\buck-converter-spring\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Dobo Pal\\\\workspace-spring-tool-suite-4-4.0.0.RELEASE\\\\buck-converter-spring\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Dobo Pal\\\\workspace-spring-tool-suite-4-4.0.0.RELEASE\\\\buck-converter-spring\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Dobo Pal\\\\workspace-spring-tool-suite-4-4.0.0.RELEASE\\\\buck-converter-spring\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Dobo Pal\\\\workspace-spring-tool-suite-4-4.0.0.RELEASE\\\\buck-converter-spring\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Dobo Pal\\\\workspace-spring-tool-suite-4-4.0.0.RELEASE\\\\buck-converter-spring\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Dobo Pal\\\\workspace-spring-tool-suite-4-4.0.0.RELEASE\\\\buck-converter-spring\\\\src\\\\Graph.js\";\nimport React, { Component } from 'react';\nimport { Scatter } from 'react-chartjs-2';\nimport _ from 'lodash';\nvar coil_strength = 0.125;\nvar frequency = 50;\nvar time_cycle = 2;\nvar graph_x = 10;\n\nvar Chart =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Chart, _Component);\n\n  function Chart(props) {\n    var _this;\n\n    _classCallCheck(this, Chart);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Chart).call(this, props));\n\n    _this.getInterval = function (start, end, steps) {\n      return _.range(start, end, steps);\n    };\n\n    _this.getLineCoordinatesOnChange = function () {\n      return _this.getInterval(0, graph_x, 0.01).map(function (x) {\n        return {\n          x: _.floor(x, 3),\n          y: _this.func(_.ceil(x, 3))\n        };\n      });\n    };\n\n    _this.getLineCoordinates = function () {\n      return _this.getInterval(0, graph_x, 0.01).map(function (x) {\n        return {\n          x: _.floor(x, 3),\n          y: _this.func(_.ceil(x, 3))\n        };\n      });\n    };\n\n    _this.func = function (xValue) {\n      var rateTime = time_cycle * _this.props.rate;\n      var delta = _this.props.rate * (1 - _this.props.rate) * _this.props.voltage / (coil_strength * frequency);\n      var average = delta / 2;\n      var IL_max = _this.props.strom * rateTime + delta / 2; //korrekt\n\n      var IL_min = _this.props.strom * rateTime - delta / 2; //Korrekt\n\n      switch (_this.props.part) {\n        case \"Us in V\":\n          {\n            return xValue % time_cycle <= rateTime ? _this.props.voltage : 0;\n          }\n\n        case \"Ul in V\":\n          {\n            return xValue % time_cycle <= rateTime ? _this.props.voltage * time_cycle - _this.props.voltage * rateTime : -(_this.props.voltage * rateTime);\n          }\n\n        case \"Ud in V\":\n          {\n            return xValue % time_cycle <= rateTime ? 0 : _this.props.voltage;\n          }\n\n        case \"Is in A\":\n          {\n            return xValue % time_cycle <= rateTime ? IL_min + IL_max * (xValue % time_cycle) : 0;\n          }\n\n        case \"Il in A\":\n          {\n            return xValue % time_cycle <= rateTime ? IL_min + IL_max * (xValue % time_cycle / rateTime) : IL_min + (IL_max - (xValue % time_cycle - rateTime) / (time_cycle - rateTime) * IL_max);\n          }\n\n        case \"Id in A\":\n          {\n            return xValue % time_cycle <= rateTime ? 0 : IL_min + IL_max * (time_cycle - xValue % time_cycle);\n          }\n      }\n    };\n\n    _this.state = {\n      countToThirty: 0,\n      counter: 0,\n      scatterChartData: {},\n      newGraph: false,\n      renderStart: 0,\n      savestate: {},\n      ticks: []\n    };\n    _this.plotGraphs = _this.plotGraphs.bind(_assertThisInitialized(_assertThisInitialized(_this))); //this.getLineCoordinates = this.getLineCoordinates.bind(this);\n\n    return _this;\n  }\n\n  _createClass(Chart, [{\n    key: \"plotGraphs\",\n    value: function plotGraphs() {\n      //console.log(this.props.part);\n      var oxidationGraph = {\n        label: 'Redukt',\n        fill: false,\n        backgroundColor: 'rgb(255, 99, 132)',\n        //red\n        borderColor: 'rgb(255, 99, 132)',\n        markerType: \"circle\",\n        //\"square\", \"cross\", \"none\"\n        pointRadius: 5,\n        data: [{\n          x: this.props.time % 10,\n          y: this.func(this.props.time % 10)\n        }]\n        /*\r\n            */\n\n      };\n\n      if (this.state.countToThirty === 0) {\n        console.log(\"count = 0\"); //this.state.savestate = this.getLineCoordinates();\n\n        var reductionGraph = {\n          lineTension: 0,\n          label: 'Reduktion',\n          fill: false,\n          backgroundColor: 'rgb(54, 162, 235)',\n          //blue\n          borderColor: 'rgb(54, 162, 235)',\n          data: this.getLineCoordinates()\n        };\n        this.setState({\n          renderStart: this.props.time,\n          savestate: this.getLineCoordinates(),\n          newGraph: false,\n          scatterChartData: {\n            datasets: [oxidationGraph, reductionGraph]\n          }\n        });\n      } else {\n        console.log(\"normalrender\");\n        var _reductionGraph = {\n          legend: {\n            display: true\n          },\n          lineTension: 0,\n          label: 'Reduktion',\n          fill: false,\n          backgroundColor: 'rgb(54, 162, 235)',\n          //blue\n          borderColor: 'rgb(54, 162, 235)',\n          data: this.state.savestate\n        };\n        this.setState({\n          renderStart: this.props.time,\n          scatterChartData: {\n            datasets: [oxidationGraph, _reductionGraph]\n          }\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.timer = setInterval(function () {\n        return _this2.increment();\n      }, 200);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.timer);\n    }\n  }, {\n    key: \"increment\",\n    value: function increment() {\n      this.setState({\n        counter: this.state.counter + 0.2\n      });\n      this.plotGraphs();\n      /*\r\n        if ((this.props.time%10 )== 0){\r\n          this.setState({\r\n            countToThirty: this.state.countToThirty + 10\r\n          })\r\n        }\r\n      */\n\n      if (this.state.countToThirty < 9.7) {\n        var x = this.state.countToThirty + 0.2;\n        this.setState({\n          countToThirty: x\n        });\n      } else {\n        this.setState({\n          countToThirty: 0\n        });\n      }\n    } //berechnet punkte für \"Oxidation\"\n\n    /*func = (xValue, n = 1) => {\r\n      if(xValue%T<DT){\r\n        return(Ue-Ua)\r\n      }else return -Ua\r\n    };*/\n\n  }, {\n    key: \"render\",\n\n    /*\r\n    NUMBER TESTING PART\r\n    <p>{this.state.counter}</p>\r\n    <p>{this.props.time}</p>\r\n    <p>{parseInt(this.props.time)}</p>\r\n    <p>{this.props.time - this.state.countToThirty}</p>\r\n    <p>{Math.round(this.props.time - this.state.countToThirty)}</p>\r\n    <p>{this.props.time +10 - this.state.countToThirty}</p>\r\n    <p>{Math.round(this.props.time +10 - this.state.countToThirty)}</p>\r\n    <p>{this.state.countToThirty}</p>\r\n    <p>{parseInt(this.state.countToThirty)}</p>\r\n    <p>{this.props.time}</p>\r\n    */\n    //berechnet punkte für \"Reduktion\"\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"chart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, this.state.scatterChartData[0]), React.createElement(Scatter, {\n        data: this.state.scatterChartData,\n        options: {\n          tooltips: {\n            enabled: false\n          },\n          legend: {\n            display: false\n          },\n          animation: {\n            duration: 140\n          },\n          showLines: true,\n          scales: {\n            xAxes: [{\n              scaleLabel: {\n                display: false,\n                labelString: 'Time'\n              },\n              ticks: {\n                maxRotation: 0,\n                beginAtZero: true,\n                userCallback: function userCallback(label, index, labels) {\n                  // when the flimport React from 'react';oored value is the same as the value we have a whole number/*\n                  //if (Math.floor(label) === label && Math.floor(label)%2 === 0) {\n                  //return label;\n                  //}\n                  return null;\n                },\n\n                /*\r\n                min:Math.floor((this.props.time -15)),\r\n                max:Math.floor((this.props.time +15))\r\n                */\n                min: 0,\n                max: 10\n                /*Ü\r\n                                afterBuildTicks: function(this){\r\n                                  this.ticks = [];\r\n                                  this.ticks.push(this.props.time -15);\r\n                                  this.ticks.push(this.props.time -10);\r\n                                  this.ticks.push(this.props.time -5);\r\n                                  this.ticks.push(this.props.time);\r\n                                  this.ticks.push(this.props.time +5);\r\n                                  this.ticks.push(this.props.time +10);\r\n                                  this.ticks.push(this.props.time +15)\r\n                                }\r\n                                afterTickToLabelConversion: function(scaleInstance) {\r\n                                  // set the first and last tick to null so it does not display\r\n                                  // note, ticks[0] is the last tick and ticks[length - 1] is the first\r\n                                  this.ticks[0] = null;\r\n                                  this.ticks[scaleInstance.ticks.length - 1] = null;\r\n                \r\n                                  // need to do the same thing for this similiar array which is used internally\r\n                                  this.ticksAsNumbers[0] = null;\r\n                                  this.ticksAsNumbers[scaleInstance.ticksAsNumbers.length - 1] = null;\r\n                                }*/\n\n              }\n            }],\n            yAxes: [{\n              ticks: {//  min: -500,\n                //  max: 500\n              },\n              scaleLabel: {\n                display: true,\n                labelString: this.props.part\n              }\n            }]\n          },\n          elements: {\n            point: {\n              radius: 1\n            }\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Chart;\n}(Component);\n\nexport default Chart;","map":{"version":3,"sources":["C:\\Users\\Dobo Pal\\workspace-spring-tool-suite-4-4.0.0.RELEASE\\buck-converter-spring\\src\\Graph.js"],"names":["React","Component","Scatter","_","coil_strength","frequency","time_cycle","graph_x","Chart","props","getInterval","start","end","steps","range","getLineCoordinatesOnChange","map","x","floor","y","func","ceil","getLineCoordinates","xValue","rateTime","rate","delta","voltage","average","IL_max","strom","IL_min","part","state","countToThirty","counter","scatterChartData","newGraph","renderStart","savestate","ticks","plotGraphs","bind","oxidationGraph","label","fill","backgroundColor","borderColor","markerType","pointRadius","data","time","console","log","reductionGraph","lineTension","setState","datasets","legend","display","timer","setInterval","increment","clearInterval","tooltips","enabled","animation","duration","showLines","scales","xAxes","scaleLabel","labelString","maxRotation","beginAtZero","userCallback","index","labels","min","max","yAxes","elements","point","radius"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Scatter} from 'react-chartjs-2';\r\nimport _ from 'lodash';\r\n\r\nconst coil_strength = 0.125;\r\nconst frequency = 50;\r\nconst time_cycle = 2;\r\nconst graph_x = 10;\r\n\r\n\r\nclass Chart extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      countToThirty: 0,\r\n      counter: 0,\r\n      scatterChartData: {},\r\n      newGraph: false,\r\n      renderStart: 0,\r\n      savestate:{},\r\n      ticks: [],\r\n    };\r\n\r\n\r\n    this.plotGraphs = this.plotGraphs.bind(this);\r\n    //this.getLineCoordinates = this.getLineCoordinates.bind(this);\r\n  }\r\n\r\n\r\n  getInterval = (start, end, steps) => _.range(start, end, steps);\r\n/*\r\ngetInterval = (start, end, steps) =>\r\n{\r\nlet rateTime = time_cycle*this.props.rate;\r\nvar arr = []\r\nfor(let i = 0 ; i<20/time_cycle; i++){\r\n  arr.push([\r\n     (this.props.time-(0.01+(i*time_cycle))),\r\n\r\n     (this.props.time+0.01+(i*time_cycle)),\r\n (this.props.time-0.01+(i*time_cycle)+rateTime),\r\n   (this.props.time+0.01+(i*time_cycle)+rateTime),\r\n  ])\r\n\r\n}\r\n*//*\r\ngetLineCoordinates = () =>{\r\n\r\n  let rateTime = time_cycle*this.props.rate;\r\n  var arr = []\r\n  for(let i = 0 ; i<12/time_cycle; i++){\r\n    console.log(i);\r\n    for(let j = 0; j < 10; j++)\r\n    {\r\n        arr.push({\r\n        x: this.props.time-((10-j)/100)+(i*time_cycle),\r\n        y: this.func(((this.props.time-(j/100))+(i*time_cycle)))\r\n      },{\r\n        x: (this.props.time-((10-j)/200)+(i*time_cycle)),\r\n        y: this.func(((this.props.time-(j/200))+(i*time_cycle)))\r\n      });\r\n      arr.push({\r\n        x: (this.props.time+(j/200)+(i*time_cycle)),\r\n        y: this.func(((this.props.time+(j/200))+(i*time_cycle)))\r\n      },{\r\n        x: (this.props.time+(j/100)+(i*time_cycle)),\r\n        y: this.func(((this.props.time+(j/100))+(i*time_cycle)))\r\n      });\r\n      arr.push({\r\n        x: (this.props.time-((10-j)/100)+(i*time_cycle)+rateTime),\r\n        y: this.func(((this.props.time-(j/100))+(i*time_cycle)+rateTime))\r\n      },{\r\n        x: (this.props.time-((10-j)/200)+(i*time_cycle)+rateTime),\r\n        y: this.func(((this.props.time-(j/200))+(i*time_cycle)+rateTime))\r\n      });\r\n      arr.push({\r\n        x: (this.props.time+(j/200)+(i*time_cycle)+rateTime),\r\n        y: this.func(((this.props.time+(j/200))+(i*time_cycle)+rateTime))\r\n      },{\r\n        x: (this.props.time+(j/100)+(i*time_cycle)+rateTime),\r\n        y: this.func(((this.props.time+(j/100))+(i*time_cycle)+rateTime))\r\n      });\r\n    }\r\n  }\r\n  console.log(arr);\r\n  console.log(\"berechnet mit \"+ this.props.part);\r\n\r\n  return arr;\r\n}*/\r\n\r\ngetLineCoordinatesOnChange = () => this.getInterval(0 , graph_x, 0.01).map(x =>  {\r\n\r\n    return {\r\n      x: _.floor(x,3),\r\n      y: this.func(_.ceil(x,3))\r\n    }\r\n  })\r\n  getLineCoordinates = () => this.getInterval(0 , graph_x, 0.01).map(x =>  {\r\n\r\n      return {\r\n        x: _.floor(x,3),\r\n        y: this.func(_.ceil(x,3))\r\n      }\r\n    })\r\n\r\n\r\n\r\n  plotGraphs() {\r\n//console.log(this.props.part);\r\n\r\n    const oxidationGraph = {\r\n      label: 'Redukt',\r\n      fill: false,\r\n      backgroundColor: 'rgb(255, 99, 132)', //red\r\n      borderColor: 'rgb(255, 99, 132)',\r\n      markerType: \"circle\", //\"square\", \"cross\", \"none\"\r\n      pointRadius: 5,\r\n\r\n\r\n      data: [{\r\n        x: this.props.time%10,\r\n        y: this.func(this.props.time%10)\r\n      }]}\r\n/*\r\n    */\r\n\r\n    if(this.state.countToThirty === 0 ){\r\n      console.log(\"count = 0\");\r\n      //this.state.savestate = this.getLineCoordinates();\r\n    const reductionGraph = {\r\n\r\n      lineTension : 0,\r\n      label: 'Reduktion',\r\n      fill: false,\r\n\r\n      backgroundColor: 'rgb(54, 162, 235)', //blue\r\n      borderColor: 'rgb(54, 162, 235)',\r\n      data: this.getLineCoordinates()\r\n    };\r\n    this.setState({\r\n      renderStart: this.props.time,\r\n      savestate:this.getLineCoordinates(),\r\n      newGraph: false,\r\n      scatterChartData: {\r\n        datasets: [\r\n          oxidationGraph,\r\n          reductionGraph,\r\n\r\n        ]\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  else{\r\n    console.log(\"normalrender\");\r\n  const reductionGraph = {\r\n    legend: {\r\n  display: true,\r\n  },\r\n\r\n    lineTension : 0,\r\n    label: 'Reduktion',\r\n    fill: false,\r\n    backgroundColor: 'rgb(54, 162, 235)', //blue\r\n    borderColor: 'rgb(54, 162, 235)',\r\n    data: this.state.savestate\r\n  };\r\n  this.setState({\r\n    renderStart: this.props.time,\r\n\r\n    scatterChartData: {\r\n      datasets: [\r\n        oxidationGraph,\r\n        reductionGraph,\r\n\r\n      ]\r\n    }\r\n  })}\r\n\r\n\r\n\r\n\r\n  }\r\n  componentDidMount() {\r\n    this.timer = setInterval(\r\n     () => this.increment(),\r\n     200\r\n\r\n\r\n)\r\n}\r\ncomponentWillUnmount() {\r\nclearInterval(this.timer)\r\n}\r\nincrement() {\r\n  this.setState({counter: this.state.counter + 0.2})\r\n  this.plotGraphs();\r\n/*\r\n  if ((this.props.time%10 )== 0){\r\n    this.setState({\r\n      countToThirty: this.state.countToThirty + 10\r\n    })\r\n  }\r\n*/\r\n\r\n    if(this.state.countToThirty <9.7){\r\n      let x = this.state.countToThirty + 0.2;\r\n      this.setState({countToThirty: x });\r\n    }else{\r\n      this.setState({countToThirty: 0});\r\n    }\r\n\r\n\r\n}\r\n\r\n  //berechnet punkte für \"Oxidation\"\r\n  /*func = (xValue, n = 1) => {\r\n    if(xValue%T<DT){\r\n      return(Ue-Ua)\r\n    }else return -Ua\r\n  };*/\r\n  func = (xValue) => {\r\n    var rateTime = time_cycle*this.props.rate;\r\n    var delta = (this.props.rate*(1-this.props.rate)*this.props.voltage)/(coil_strength*frequency);\r\n    var average = delta/2;\r\n    var IL_max = (this.props.strom*rateTime) +(delta/2)//korrekt\r\n    var IL_min = (this.props.strom*rateTime) -(delta/2)//Korrekt\r\n\r\n\r\n\r\n    switch(this.props.part){\r\n      case \"Us in V\":{\r\n        return  ((xValue%time_cycle)<=rateTime)?  this.props.voltage : 0;\r\n\r\n      }\r\n      case  \"Ul in V\":{\r\n          return  ((xValue%time_cycle)<=rateTime)? (this.props.voltage*time_cycle)-(this.props.voltage*rateTime) : -(this.props.voltage*rateTime);\r\n\r\n      }\r\n      case \"Ud in V\":{\r\n          return  ((xValue%time_cycle)<=rateTime)? 0 : this.props.voltage  ;\r\n\r\n      }\r\n      case \"Is in A\":{\r\n          return (((xValue%time_cycle)<=rateTime)? ( IL_min + (IL_max*(xValue%time_cycle))) : 0);\r\n\r\n      }\r\n      case  \"Il in A\":{\r\n          return (((xValue%time_cycle)<=rateTime)? ( IL_min + (IL_max*((xValue%time_cycle)/rateTime))) : ( IL_min + (IL_max-((((xValue%time_cycle)-rateTime)/(time_cycle-rateTime)*IL_max)))));\r\n\r\n      }\r\n      case \"Id in A\":{\r\n          return (((xValue%time_cycle)<=rateTime)? 0 : ( IL_min + (IL_max*(time_cycle-(xValue%time_cycle)))));\r\n      }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  };\r\n  /*\r\n  NUMBER TESTING PART\r\n  <p>{this.state.counter}</p>\r\n  <p>{this.props.time}</p>\r\n  <p>{parseInt(this.props.time)}</p>\r\n  <p>{this.props.time - this.state.countToThirty}</p>\r\n  <p>{Math.round(this.props.time - this.state.countToThirty)}</p>\r\n  <p>{this.props.time +10 - this.state.countToThirty}</p>\r\n  <p>{Math.round(this.props.time +10 - this.state.countToThirty)}</p>\r\n  <p>{this.state.countToThirty}</p>\r\n  <p>{parseInt(this.state.countToThirty)}</p>\r\n  <p>{this.props.time}</p>\r\n  */\r\n  //berechnet punkte für \"Reduktion\"\r\n\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className = \"chart\" >\r\n\r\n\r\n\r\n      <p>{this.state.scatterChartData[0]}</p>\r\n      <Scatter data = {this.state.scatterChartData}\r\n      options = {\r\n        {\r\n          tooltips: {\r\n            enabled: false\r\n          },\r\n          legend: {\r\n            display: false\r\n        },\r\n          animation: {\r\n            duration: 140\r\n          },\r\n          showLines: true,\r\n          scales: {\r\n            xAxes: [{\r\n              scaleLabel: {\r\n                display: false,\r\n                labelString: 'Time'\r\n              },\r\n              ticks:{\r\n                maxRotation: 0,\r\n                 beginAtZero: true,\r\n                 userCallback: function(label, index, labels) {\r\n                     // when the flimport React from 'react';oored value is the same as the value we have a whole number/*\r\n                     //if (Math.floor(label) === label && Math.floor(label)%2 === 0) {\r\n                         //return label;\r\n                     //}\r\n                      return null;\r\n                 },\r\n\r\n                /*\r\n                min:Math.floor((this.props.time -15)),\r\n                max:Math.floor((this.props.time +15))\r\n              */\r\n                min:0,\r\n                max:10,\r\n\r\n/*Ü\r\n                afterBuildTicks: function(this){\r\n                  this.ticks = [];\r\n                  this.ticks.push(this.props.time -15);\r\n                  this.ticks.push(this.props.time -10);\r\n                  this.ticks.push(this.props.time -5);\r\n                  this.ticks.push(this.props.time);\r\n                  this.ticks.push(this.props.time +5);\r\n                  this.ticks.push(this.props.time +10);\r\n                  this.ticks.push(this.props.time +15)\r\n                }\r\n                afterTickToLabelConversion: function(scaleInstance) {\r\n                  // set the first and last tick to null so it does not display\r\n                  // note, ticks[0] is the last tick and ticks[length - 1] is the first\r\n                  this.ticks[0] = null;\r\n                  this.ticks[scaleInstance.ticks.length - 1] = null;\r\n\r\n                  // need to do the same thing for this similiar array which is used internally\r\n                  this.ticksAsNumbers[0] = null;\r\n                  this.ticksAsNumbers[scaleInstance.ticksAsNumbers.length - 1] = null;\r\n                }*/\r\n              }\r\n\r\n\r\n\r\n            }],\r\n            yAxes: [{\r\n              ticks: {\r\n              //  min: -500,\r\n              //  max: 500\r\n              },\r\n              scaleLabel: {\r\n                display: true,\r\n                labelString: this.props.part,\r\n              }\r\n            }]\r\n          },\r\n          elements: {\r\n            point: {\r\n              radius: 1\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      />\r\n      </div>\r\n\r\n\r\n    )\r\n\r\n\r\n  }\r\n}\r\n\r\nexport default Chart;\r\n"]},"metadata":{},"sourceType":"module"}